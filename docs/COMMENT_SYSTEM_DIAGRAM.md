# SÆ  Äá»’ Há»† THá»NG BÃŒNH LUáº¬N

## ğŸ“Š SÆ¡ Ä‘á»“ Luá»“ng Dá»¯ Liá»‡u

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Há»† THá»NG BÃŒNH LUáº¬N                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   KHÃCH     â”‚â”€â”€â”€â”€â”€â”€â”€â”€>â”‚   CHUYáº¾N XE  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”‚   NHÃ€ XE     â”‚
â”‚   HÃ€NG      â”‚         â”‚   (Trip)     â”‚         â”‚  (Staff)     â”‚
â”‚   (User)    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚   (Admin)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                        â”‚                        â”‚
      â”‚ 1. Mua vÃ©              â”‚                        â”‚
      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>          â”‚                        â”‚
      â”‚                        â”‚                        â”‚
      â”‚ 2. Viáº¿t bÃ¬nh luáº­n      â”‚                        â”‚
      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                        â”‚
      â”‚    + Chá»n sao (1-5)    â”‚                        â”‚
      â”‚    + Viáº¿t ná»™i dung     â”‚                        â”‚
      â”‚                        â”‚                        â”‚
      â”‚                        â”‚ 3. Kiá»ƒm tra & LÆ°u      â”‚
      â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  â”‚
      â”‚                        â”‚   - Lá»c tá»« ngá»¯        â”‚
      â”‚                        â”‚   - Auto duyá»‡t (â‰¥3â­)  â”‚
      â”‚                        â”‚   - Chá» duyá»‡t (â‰¤2â­)   â”‚
      â”‚                        â”‚                        â”‚
      â”‚                        â”‚ 4. Xem & Tráº£ lá»i       â”‚
      â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
      â”‚                        â”‚                        â”‚
      â”‚ 5. Xem pháº£n há»“i        â”‚                        â”‚
      â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                        â”‚
      â”‚                        â”‚                        â”‚
```

## ğŸ—‚ï¸ Cáº¥u TrÃºc Database

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     TABLE: binh_luan                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ma_bl (PK)           â”‚ ID bÃ¬nh luáº­n                         â”‚
â”‚ parent_id (FK)       â”‚ ID bÃ¬nh luáº­n cha (NULL = gá»‘c)       â”‚
â”‚ user_id (FK)         â”‚ ID ngÆ°á»i bÃ¬nh luáº­n                   â”‚
â”‚ chuyen_xe_id (FK)    â”‚ ID chuyáº¿n xe                         â”‚
â”‚ noi_dung             â”‚ Ná»™i dung bÃ¬nh luáº­n                   â”‚
â”‚ so_sao               â”‚ Sá»‘ sao (1-5, NULL cho reply)        â”‚
â”‚ trang_thai           â”‚ cho_duyet | da_duyet | tu_choi      â”‚
â”‚ ngay_bl              â”‚ NgÃ y bÃ¬nh luáº­n                       â”‚
â”‚ ngay_duyet           â”‚ NgÃ y duyá»‡t                           â”‚
â”‚ ly_do_tu_choi        â”‚ LÃ½ do tá»« chá»‘i                        â”‚
â”‚ nv_id                â”‚ ID nhÃ¢n viÃªn xá»­ lÃ½                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”‚
        â”‚ Relationships
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> users (user_id)
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> chuyen_xe (chuyen_xe_id)
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> binh_luan (parent_id) - Self reference
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> nhan_vien (nv_id)
```

## ğŸ”„ Quy TrÃ¬nh Tá»± Äá»™ng Duyá»‡t

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User viáº¿t bÃ¬nh luáº­n  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Kiá»ƒm tra sao â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
     â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚           â”‚
     â–¼           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‰¤2 sao  â”‚  â”‚ â‰¥3 sao  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚            â”‚
     â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚CHá»œ DUYá»†T â”‚  â”‚ Tá»° Äá»˜NG  â”‚
â”‚ ğŸ”´       â”‚  â”‚  DUYá»†T âœ… â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚
     â–¼            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚Staff xÃ©t duyá»‡tâ”‚  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
     â”‚            â”‚
â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”
â”‚  HIá»‚N THá»Š CÃ”NG KHAI â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ‘¥ PhÃ¢n Quyá»n Chi Tiáº¿t

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER (KhÃ¡ch hÃ ng)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Xem bÃ¬nh luáº­n Ä‘Ã£ duyá»‡t cá»§a táº¥t cáº£ khÃ¡ch hÃ ng           â”‚
â”‚ âœ… Viáº¿t bÃ¬nh luáº­n má»›i (náº¿u Ä‘Ã£ mua vÃ©)                     â”‚
â”‚ âœ… XÃ³a bÃ¬nh luáº­n cá»§a mÃ¬nh (náº¿u chÆ°a cÃ³ pháº£n há»“i)          â”‚
â”‚ âœ… Xem pháº£n há»“i tá»« nhÃ  xe                                 â”‚
â”‚ âŒ KHÃ”NG xem bÃ¬nh luáº­n chÆ°a duyá»‡t                         â”‚
â”‚ âŒ KHÃ”NG chá»‰nh sá»­a bÃ¬nh luáº­n cÃ³ pháº£n há»“i                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      STAFF (NhÃ¢n viÃªn)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… Xem Táº¤T Cáº¢ bÃ¬nh luáº­n cá»§a nhÃ  xe mÃ¬nh                   â”‚
â”‚ âœ… Tráº£ lá»i bÃ¬nh luáº­n                                       â”‚
â”‚ âœ… Duyá»‡t bÃ¬nh luáº­n chá» duyá»‡t                              â”‚
â”‚ âœ… Tá»« chá»‘i bÃ¬nh luáº­n (vá»›i lÃ½ do)                          â”‚
â”‚ âœ… XÃ³a bÃ¬nh luáº­n                                           â”‚
â”‚ âœ… Lá»c, tÃ¬m kiáº¿m bÃ¬nh luáº­n                                â”‚
â”‚ âŒ KHÃ”NG xem bÃ¬nh luáº­n nhÃ  xe khÃ¡c                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ADMIN (Quáº£n trá»‹)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… TOÃ€N QUYá»€N vá»›i Táº¤T Cáº¢ bÃ¬nh luáº­n                        â”‚
â”‚ âœ… Xem bÃ¬nh luáº­n cá»§a táº¥t cáº£ nhÃ  xe                        â”‚
â”‚ âœ… Xem thá»‘ng kÃª tá»•ng thá»ƒ                                  â”‚
â”‚ âœ… Quáº£n lÃ½ bÃ¬nh luáº­n khÃ´ng phÃ¹ há»£p                        â”‚
â”‚ âœ… Táº¡o bÃ¬nh luáº­n thay máº·t ngÆ°á»i dÃ¹ng (náº¿u cáº§n)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ Use Cases

### Use Case 1: KhÃ¡ch hÃ ng viáº¿t Ä‘Ã¡nh giÃ¡ tÃ­ch cá»±c
```
1. User Ä‘Äƒng nháº­p
2. VÃ o "VÃ© cá»§a tÃ´i"
3. Click "ÄÃ¡nh giÃ¡" cho vÃ© Ä‘Ã£ mua
4. Chá»n 5 sao â­â­â­â­â­
5. Viáº¿t: "Chuyáº¿n Ä‘i ráº¥t tuyá»‡t vá»i, tÃ i xáº¿ lá»‹ch sá»±!"
6. Click "Gá»­i Ä‘Ã¡nh giÃ¡"
7. âœ… BÃ¬nh luáº­n Tá»° Äá»˜NG Ä‘Æ°á»£c duyá»‡t vÃ  hiá»ƒn thá»‹ ngay
```

### Use Case 2: KhÃ¡ch hÃ ng viáº¿t Ä‘Ã¡nh giÃ¡ tiÃªu cá»±c
```
1. User Ä‘Äƒng nháº­p
2. VÃ o "VÃ© cá»§a tÃ´i"
3. Click "ÄÃ¡nh giÃ¡" cho vÃ© Ä‘Ã£ mua
4. Chá»n 1 sao â­
5. Viáº¿t: "Xe Ä‘áº¿n muá»™n 30 phÃºt!"
6. Click "Gá»­i Ä‘Ã¡nh giÃ¡"
7. ğŸ”´ BÃ¬nh luáº­n vÃ o tráº¡ng thÃ¡i "Chá» duyá»‡t"
8. Staff xem xÃ©t vÃ :
   - Duyá»‡t + Tráº£ lá»i: "Xin lá»—i, chÃºng tÃ´i sáº½ cáº£i thiá»‡n"
   - Hoáº·c tá»« chá»‘i náº¿u khÃ´ng Ä‘Ãºng sá»± tháº­t
```

### Use Case 3: Staff tráº£ lá»i bÃ¬nh luáº­n
```
1. Staff Ä‘Äƒng nháº­p
2. VÃ o "Quáº£n lÃ½ bÃ¬nh luáº­n"
3. Tháº¥y thÃ´ng bÃ¡o cÃ³ 5 bÃ¬nh luáº­n chá» duyá»‡t
4. Click vÃ o bÃ¬nh luáº­n
5. Äá»c ná»™i dung
6. Viáº¿t pháº£n há»“i chuyÃªn nghiá»‡p
7. Click "Gá»­i tráº£ lá»i"
8. âœ… Pháº£n há»“i hiá»ƒn thá»‹ vá»›i badge "NHÃ€ XE"
```

## ğŸ” Security Features

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Báº¢O Máº¬T & KIá»‚M SOÃT                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”’ Lá»c tá»« ngá»¯ tá»± Ä‘á»™ng (ProfanityFilter)   â”‚
â”‚ ğŸ”’ Kiá»ƒm tra quyá»n sá»Ÿ há»¯u vÃ©               â”‚
â”‚ ğŸ”’ Giá»›i háº¡n 1 bÃ¬nh luáº­n/chuyáº¿n xe         â”‚
â”‚ ğŸ”’ KhÃ´ng xÃ³a Ä‘Æ°á»£c bÃ¬nh luáº­n cÃ³ pháº£n há»“i   â”‚
â”‚ ğŸ”’ Middleware phÃ¢n quyá»n role-based       â”‚
â”‚ ğŸ”’ CSRF protection                        â”‚
â”‚ ğŸ”’ XSS protection (Blade escaping)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± Responsive Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Mobile    â”‚   Tablet    â”‚   Desktop   â”‚
â”‚   ğŸ“±        â”‚   ğŸ“±        â”‚   ğŸ’»        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Stack       â”‚ 2 columns   â”‚ 3 columns   â”‚
â”‚ Full width  â”‚ Grid layout â”‚ Grid layout â”‚
â”‚ Cards       â”‚ Cards       â”‚ Cards       â”‚
â”‚ Touch-      â”‚ Touch-      â”‚ Mouse-      â”‚
â”‚ friendly    â”‚ friendly    â”‚ friendly    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ Color Scheme

```
Primary Colors:
â”œâ”€ Blue (#007bff)     - BÃ¬nh luáº­n user
â”œâ”€ Green (#28a745)    - Pháº£n há»“i nhÃ  xe
â”œâ”€ Warning (#ffc107)  - Sao Ä‘Ã¡nh giÃ¡
â”œâ”€ Purple (#667eea)   - Avatar gradient
â””â”€ Pink (#f093fb)     - Badge nhÃ  xe

Status Colors:
â”œâ”€ Success (#28a745)  - ÄÃ£ duyá»‡t
â”œâ”€ Warning (#ffc107)  - Chá» duyá»‡t
â””â”€ Danger (#dc3545)   - Tá»« chá»‘i
```

---

**NgÃ y táº¡o:** {{ date('d/m/Y') }}  
**Version:** 1.0
